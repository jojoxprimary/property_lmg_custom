<odoo>
  <record id="view_order_form_inherit_proposal" model="ir.ui.view">
    <field name="name">sale.order.form.inherit.proposal</field>
    <field name="model">sale.order</field>
    <field name="inherit_id" ref="sale.view_order_form"/>
    <field name="arch" type="xml">

      <!-- Hide default header buttons (Email, Confirm, Cancel) when in draft -->
        <xpath expr="//header//button[@name='action_quotation_send']" position="attributes">
            <attribute name="invisible">state == 'draft'</attribute>
        </xpath>

        <!-- sent -->
        <xpath expr="(//header//button[@name='action_confirm'])[1]" position="attributes">
            <attribute name="invisible">state == 'draft'</attribute>
        </xpath>
        <!-- draft -->
        <xpath expr="(//header//button[@name='action_confirm'])[2]" position="attributes">
            <attribute name="invisible">state == 'draft'</attribute>
        </xpath>
    
        <xpath expr="//header//button[@name='action_cancel']" position="attributes">
            <attribute name="invisible">state == 'draft'</attribute>
        </xpath>

      <!-- Add new custom buttons -->
      <xpath expr="//header" position="inside">

        <!-- Submit Proposal -->
        <button name="action_submit_proposal"
                string="Submit to Supervisor"
                type="object"
                invisible="state != 'draft'"
                class="btn-primary"/>
      </xpath>

      <!-- Update statusbar to show your new workflow -->
      <xpath expr="//field[@name='state']" position="attributes">
        <attribute name="widget">statusbar</attribute>
        <attribute name="statusbar_visible">draft,submit,approved,sent,sale,cancel</attribute>
      </xpath>

    </field>
  </record>
</odoo>
